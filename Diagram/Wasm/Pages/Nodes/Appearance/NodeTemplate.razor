@page "/NodeTemplate"

@using Syncfusion.Blazor.Diagram
@using Syncfusion.Blazor.Buttons

<SfDiagramComponent @ref="diagram" Width="1200px" Height="1000px" Nodes="@nodes">
    <DiagramTemplates>
        <NodeTemplate>
            @{
                    <style>
                        th {
                            border: 5px solid #c1dad7
                        }

                        td {
                            border: 5px solid #c1dad7
                        }

                        .c1 {
                            background: transparent
                        }

                        .c2 {
                            background: transparent
                        }

                        .c3 {
                            background: transparent
                        }

                        .c4 {
                            background: transparent
                        }
                    </style>
                    <div id="node0_content_html_element" class="foreign-object" style="height: 164px; width: 137px; left: 0px; top: 0px; position: absolute; transform: scale(1, 1) rotate(0deg); pointer-events: all; visibility: visible; opacity: 1;">
                        <div style="height: 100%; width: 100%;">
                            <table style="width:100%;">
                                <tbody>
                                    <tr><th class="c1">ID</th><th class="c2">Offset</th></tr>
                                    <tr><td class="c1">node0</td><td class="c2">100</td></tr>
                                </tbody>
                            </table>
                            <SfButton Content="Button2" OnClick="@OnClick" />

                        </div>
                    </div>
                }
            </NodeTemplate>
        </DiagramTemplates>
    </SfDiagramComponent>

@code
{
    //Reference the diagram
    SfDiagramComponent diagram;
    //Define diaram's nodes collection
    DiagramObjectCollection<Node> nodes;

    protected override void OnInitialized()
    {
        nodes = new DiagramObjectCollection<Node>();
        Node node = new Node()
            {
                Width = 137,
                Height = 64,
                OffsetX = 300,
                OffsetY = 100,
                ID = "html1",
                Shape = new Shape() { Type = NodeShapes.HTML },
            };
        nodes.Add(node);
    }

    public void OnClick()
    {
        nodes[0].BackgroundColor = "cornflowerblue";
        StateHasChanged();
    }
}
