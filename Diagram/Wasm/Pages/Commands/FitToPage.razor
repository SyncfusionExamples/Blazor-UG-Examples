@page "/FitToPage"

@using Syncfusion.Blazor.Diagram
@using Node = Syncfusion.Blazor.Diagram.Node
@using Syncfusion.Blazor.Buttons

<SfButton Content="FitToPage" OnClick="@FitToPage1" />

<SfDiagramComponent @ref="_diagram" Width="1000px" Height="600px" Nodes="_nodes" Connectors="_connectors" />

@code 
{
    //Initialize of all the variables, methods and classes.
    private SfDiagramComponent _diagram;
    private FitOptions _options = new FitOptions() { Mode = FitMode.Both, Region = DiagramRegion.Content };
    private DiagramObjectCollection<Node> _nodes = new DiagramObjectCollection<Node>();
    private DiagramObjectCollection<Connector> _connectors = new DiagramObjectCollection<Connector>();
    private string _selectedMode;
    private string _selectedRegion;

    protected override void OnInitialized()
    {
        Node node1 = new Node()
        {
            ID = "node1",
            OffsetX = 100,
            OffsetY = 100,
            Width = 100,
            Height = 100,
            Style = new ShapeStyle() { Fill = "#6495ED", StrokeColor = "#6495ED" },
        };
        Node node2 = new Node()
        {
            ID = "node2",
            OffsetX = 500,
            OffsetY = 700,
            Width = 100,
            Height = 100,
            Style = new ShapeStyle() { Fill = "#6495ED", StrokeColor = "#6495ED" },
        };
        Node node3 = new Node()
        {
            ID = "node3",
            OffsetX = 500,
            OffsetY = 500,
            Width = 100,
            Height = 100,
            Style = new ShapeStyle() { Fill = "#6495ED", StrokeColor = "#6495ED" },
        };
        Node node4 = new Node()
        {
            ID = "node4",
            OffsetX = 1000,
            OffsetY = 700,
            Width = 100,
            Height = 100,
            Style = new ShapeStyle() { Fill = "#6495ED", StrokeColor = "#6495ED" },
        };
        Node node5 = new Node()
        {
            ID = "node5",
            OffsetX = 1150,
            OffsetY = 400,
            Width = 100,
            Height = 100,
            Style = new ShapeStyle() { Fill = "#6495ED", StrokeColor = "#6495ED" },
        };
        Node node6 = new Node()
        {
            ID = "node6",
            OffsetX = 500,
            OffsetY = 1000,
            Width = 100,
            Height = 100,
            Style = new ShapeStyle() { Fill = "#6495ED", StrokeColor = "#6495ED" },
        };
        _nodes.Add(node1);
        _nodes.Add(node2);
        _nodes.Add(node3);
        _nodes.Add(node4);
        _nodes.Add(node5);
        _nodes.Add(node6);
    }
    private void Mode(ChangeEventArgs e)
    {
        if (e.Value != null)
        {
            _selectedMode = (string)e.Value;
            switch (_selectedMode)
            {
                case "Both":
                    _options = new FitOptions();
                    _options.Mode = FitMode.Both;
                    break;
                case "Width":
                    _options = new FitOptions();
                    _options.Mode = FitMode.Width;
                    break;
                case "Height":
                    _options = new FitOptions();
                    _options.Mode = FitMode.Height;
                    break;
            }
        }
    }

    private void RegionChange(ChangeEventArgs e)
    {
        if (e.Value != null)
        {
            _selectedRegion = (string)e.Value;
            switch (_selectedRegion)
            {
                case "PageSettings":
                    _options = new FitOptions();
                    _options.Region = DiagramRegion.PageSettings;
                    break;
                case "Content":
                    _options = new FitOptions();
                    _options.Region = DiagramRegion.Content;
                    break;
            }
        }
    }

    //fit the diagram to the page with respect to mode and region.
    private void FitToPage1()
    {
        _diagram.FitToPage(_options);
    }
}