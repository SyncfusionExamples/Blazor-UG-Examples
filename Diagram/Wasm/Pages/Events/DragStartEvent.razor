@page "/DragStartEvent"

@using Syncfusion.Blazor.Diagram
@using System.Collections.ObjectModel
@using Syncfusion.Blazor.Diagram.SymbolPalette

<SfDiagramComponent @ref="@_diagram" Width="100%" Height="700px" Nodes="_nodes" DragStart="DragStart" />
<SfSymbolPaletteComponent @ref="_paletteInstance" Height="600px" Palettes="@_palettes" SymbolHeight="40" GetSymbolInfo="GetSymbolInfo" SymbolWidth="40" >
</SfSymbolPaletteComponent >

@code
{
    private SfDiagramComponent _diagram;
	private SfSymbolPaletteComponent _paletteInstance;
    private DiagramObjectCollection<Palette> _palettes = new DiagramObjectCollection<Palette>();
    private DiagramObjectCollection<NodeBase> _tNodes = new DiagramObjectCollection<NodeBase>();
    private DiagramObjectCollection<Node> _nodes = new DiagramObjectCollection<Node>();
    
    private SymbolInfo GetSymbolInfo(IDiagramObject symbol)
    {
        SymbolInfo SymbolInfo = new SymbolInfo();
        SymbolInfo.Fit = true;
        return SymbolInfo;
    }

    protected override void OnInitialized()
    {
        _tNodes = new DiagramObjectCollection<NodeBase>();
        Node TNode2 = new Node()
        { 
            ID = "node1", 
            Shape = new FlowShape() { Type = NodeShapes.Flow, Shape = NodeFlowShapes.Decision } 
        };
        _tNodes.Add(TNode2);
        _palettes = new DiagramObjectCollection<Palette>()
        {
            new Palette(){Symbols =_tNodes,Title="Flow Shapes",ID="Flow Shapes" },
        };
    }

	protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        _paletteInstance.Targets = new DiagramObjectCollection<SfDiagramComponent>() { };
        _paletteInstance.Targets.Add(_diagram);
    }

    //Notify the drag start event.
    private void DragStart(DragStartEventArgs args)
    {
        //Action to be performed.
    }
}