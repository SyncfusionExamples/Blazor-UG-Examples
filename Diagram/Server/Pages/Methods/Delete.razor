@page "/Delete"

@using Syncfusion.Blazor.Diagram
@using Syncfusion.Blazor.Buttons

<SfButton Content="Delete" OnClick="@DeleteMethod" />
<SfButton Content="DeletewithArgument" OnClick="@DeleteWithArgument" />

<SfDiagramComponent @ref="_diagram" Width="500px" Height="500px" @bind-Nodes="@_nodes" @bind-Connectors="@_connectors">
    <SnapSettings Constraints="@SnapConstraints.None"></SnapSettings>
</SfDiagramComponent>

@code
{
    //Reference the diagram
    private SfDiagramComponent _diagram;
    //Initialize the diagram's nodes collection
    private DiagramObjectCollection<Node> _nodes = new DiagramObjectCollection<Node>();
    //Initialize the diagram's connectors collection
    private DiagramObjectCollection<Connector> _connectors = new DiagramObjectCollection<Connector>();
    //Initialize the diagram's nodebase collection
    private DiagramObjectCollection<NodeBase> _diagramElements = new DiagramObjectCollection<NodeBase>();

    protected override void OnInitialized()
    {
        Node node1 = new Node()
        {
            ID = "node1",
            OffsetX = 200,
            OffsetY = 100,
            Height = 50,
            Width = 100,
            Style = new ShapeStyle()
            {
                Fill = "#6495ED",
                StrokeColor = "white"
            }
        };
        _nodes.Add(node1);
        Node node2 = new Node()
        {
            ID = "node2",
            OffsetX = 200,
            OffsetY = 200,
            Height = 50,
            Width = 100,
            Style = new ShapeStyle()
            {
                Fill = "#6495ED",
                StrokeColor = "white"
            }
        };
        _nodes.Add(node2);
        Node node3 = new Node()
        {
            ID = "node3",
            OffsetX = 200,
            OffsetY = 300,
            Height = 50,
            Width = 100,
            Style = new ShapeStyle()
            {
                Fill = "#6495ED",
                StrokeColor = "white"
            }
        };
        _nodes.Add(node3);

        Connector connector1 = new Connector()
        {
            ID = "connector1",
            SourceID = "node1",
            TargetID = "node2",
            Type = ConnectorSegmentType.Straight,
        };
        _connectors.Add(connector1);
        Connector connector2 = new Connector()
        {
            ID = "connector2",
            SourceID = "node2",
            TargetID = "node3",
            Type = ConnectorSegmentType.Straight,
        };
        _connectors.Add(connector2);
        NodeGroup groupNode = new NodeGroup();
        groupNode.Children = new string[] { "node2", "node3" };
        _nodes.Add(groupNode);
    }

    //Deletes DiagramElements with null parameter
    private void DeleteMethod()
    {
        _diagram.Delete();
    }

    //Deletes DiagramElements with parameter
    private void DeleteWithArgument()
    {
        _diagramElements.Add(_diagram.Nodes[0]);
        _diagramElements.Add(_diagram.Nodes[1]);
        _diagram.Delete(_diagramElements);
    }

}