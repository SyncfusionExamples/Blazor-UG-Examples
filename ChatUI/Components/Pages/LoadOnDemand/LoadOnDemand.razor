@page "/loadondemand"
@rendermode InteractiveServer

@using Syncfusion.Blazor.InteractiveChat

<LoadOnDemandNav></LoadOnDemandNav>

<div style="height: 400px; width: 400px;">
    <SfChatUI HeaderText="Albert" User="CurrentUserModel" Messages="ChatUserMessages" LoadOnDemand="true"></SfChatUI>
</div>

@code {
    private static UserModel CurrentUserModel = new UserModel() { ID = "User1", User = "Albert" };
    private static UserModel MichaleUserModel = new UserModel() { ID = "User2", User = "Michale Suyama" };
    private List<ChatMessage> ChatUserMessages = new List<ChatMessage>();

    protected override void OnInitialized()
    {
        for (int i = 1; i <= 150; i++)
        {
            ChatUserMessages.Add(new ChatMessage
            {
                Text = i % 2 == 0 ? $"Message {i} from Michale" : $"Message {i} from Albert",
                Author = i % 2 == 0 ? MichaleUserModel : CurrentUserModel
            });
        }
    }
}